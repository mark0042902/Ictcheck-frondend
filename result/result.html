<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="result.css">
</head>

<body>
  <div class="header">
    <h1>Ben jij ICT waardig?</h1>
  </div>
  <div class="center">
    <div class="progressBar">
      <h2>Programmeren front-end:</h2>
      <div class="bar">
        <div id="frontEndProgress" class="progress"></div>
      </div>
    </div>

    <div class="progressBar">
      <h2>Programmeren back-end:</h2>
      <div class="bar">
        <div id="backEndProgress" class="progress"></div>
      </div>
    </div>
    
    <div class="progressBar">
      <h2>Systeembeheer:</h2>
      <div class="bar">
        <div id="systeembeheerProgress" class="progress"></div>
      </div>
    </div>
  </div>
</body>
<script>
  setTimeout(function() {
    let givenAnswers = localStorage.getItem("givenAnswers");

    let frontendScore = 0;
    let backendScore = 0;
    let beheerScore = 0;

    if(givenAnswers) {
      givenAnswers = JSON.parse(givenAnswers);

      for(let i = 0; i < givenAnswers.length; i++) {
        if(givenAnswers[i]["category"] == "Frontend") {
          frontendScore += givenAnswers[i]["points"];
        } else if(givenAnswers[i]["category"] == "Backend") {
          backendScore += givenAnswers[i]["points"];
        } else if(givenAnswers[i]["category"] == "Systeembeheer") {
          beheerScore += givenAnswers[i]["points"];
        }
      }
    }

    const frontend = frontendScore / 3 * 100;
    const backend = backendScore / 3 * 100;
    const beheer = beheerScore / 3 * 100;

    document.getElementById("frontEndProgress").style.width = frontend + "%";
    document.getElementById("backEndProgress").style.width = backend + "%";
    document.getElementById("systeembeheerProgress").style.width = beheer + "%";
  }, 100)
</script>
</html>